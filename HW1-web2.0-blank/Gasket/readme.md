# 2D Sierpinski Gasket 项目文档

## 项目概述
这是一个基于WebGL的交互式2D谢尔宾斯基三角形(Sierpinski Gasket)生成器。用户可以通过界面控制递归细分级别、旋转动画和旋转中心，实现动态可视化的分形图形绘制及其旋转运动渲染。

## 文件结构
```
- index.html          # 主页面文件
- gasket2D.js         # 主要JavaScript逻辑
- ./shaders/          # 着色器程序目录
  - gasket2D.vert       # 顶点着色器程序
  - gasket2D.frag       # 片元着色器程序
- ../Common/          # 公共库文件目录
  - webgl-utils.js    # WebGL工具函数
  - initShaders2.js   # 着色器初始化函数
  - MVnew.js          # 矩阵和向量操作库
```

## 功能特性

### 1. 交互控制
- **递归级别滑块**：允许用户从0到15调整分形的递归细分级别
- **旋转控制**：启动/停止旋转动画按钮
- **速度控制**：加速/减速按钮调整旋转速度
- **中心点设置**：通过点击画布设置旋转中心

### 2. 可视化特性
- 彩色分形图案（红、绿、蓝三色插值）
- 实时性能监控（显示FPS和顶点数量）
- 自适应画布大小（随窗口调整）

## 核心实现

### 算法实现
项目使用递归细分算法生成谢尔宾斯基三角形：
1. 从初始大三角形开始
2. 递归地找到各边中点，分割成三个小三角形
3. 重复直到达到指定的递归深度

### WebGL渲染流程
1. 初始化WebGL上下文和着色器程序
2. 生成顶点数据和颜色数据
3. 创建并绑定缓冲区
4. 设置顶点属性指针
5. 渲染循环中更新旋转角度和中心点
6. 绘制三角形

### 着色器程序
- **顶点着色器**：处理顶点位置变换（旋转和平移）
- **片元着色器**：简单输出顶点颜色

## 使用方法
1. 搭建服务器并使用浏览器访问`index.html`文件
2. 使用滑块调整递归级别（0-15）
3. 点击"Start/Stop Rotation"控制旋转动画
4. 使用"speadUP"/"speadDOWN"调整旋转速度
5. 点击画布任意位置设置旋转中心
6. 调整浏览器窗口大小会自动适配画布

## 性能考虑
- 递归级别超过10时，顶点数量会指数级增长
- 使用静态绘图减少GPU负载
- 实时FPS监控帮助了解性能状况

## 浏览器兼容性
需要支持WebGL 2.0的现代浏览器（Chrome、Firefox、Edge等）。

## 注意事项
- 高递归级别可能导致性能下降
- 旋转中心使用归一化设备坐标（-1到1范围）
